<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt-br" lang="pt-br" dir="ltr">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <base href="" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="author" content="Ribamar FS" />
	<meta name="robots" content="noindex, nofollow" />
	<meta name="description" content="Servidores linux, Programação web (PHP, Joomla, CakePHP, Laravel), Programação Mobile (Phaser, PhoneGap, Monaca, Unity, etc) entre outros." />
	<meta name="generator" content="Joomla! - Open Source Content Management" />
	<title>Integração do JS com o PHP - RibaFS Portal</title>
	<link href="http://ribafs.org/portal/basicos/javascript/mais-sobre-javascript-2.html?tmpl=component&amp;print=1&amp;layout=default" rel="canonical" />
	<link href="../../templates/shaper_helix3/images/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
	<link href="../../favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
	<link href="http://backup/portal/media/plg_content_prismsyntaxhighlighter/css/prism-okaidia.css" rel="stylesheet" type="text/css" />
	<link href="http://backup/portal/media/plg_content_prismsyntaxhighlighter/css/prism-linenumbers.css" rel="stylesheet" type="text/css" />
	<script src="http://backup/portal/media/plg_content_prismsyntaxhighlighter/js/prism-tinymce.js" type="text/javascript"></script>
	<script src="../../media/jui/js/jquery.min.js@d40d24664a167cb951f5efaf872c4327" type="text/javascript"></script>
	<script src="../../media/jui/js/jquery-noconflict.js@d40d24664a167cb951f5efaf872c4327" type="text/javascript"></script>
	<script src="../../media/jui/js/jquery-migrate.min.js@d40d24664a167cb951f5efaf872c4327" type="text/javascript"></script>
	<script src="http://backup/portal/media/system/js/caption.js?d40d24664a167cb951f5efaf872c4327" type="text/javascript"></script>
	<script type="text/javascript">
jQuery(window).on('load',  function() {
				new JCaption('img.caption');
			});
	</script>
	<meta property="og:url" content="http://backup/portal/basicos/javascript/mais-sobre-javascript-2.html" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Integração do JS com o PHP" />
	<meta property="og:description" content="Integração entre PHP e JavaScript O PHP pode ter acesso às variáveis do JavaScript e o JavaScript pode ter acesso às variáveis do PHP. Veja alguns exemplos..." />

   	<link rel="stylesheet" href="../../media/jui/css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="../../templates/shaper_helix3/css/frontend-edit.css" type="text/css" />
    <link rel="stylesheet" href="../../templates/shaper_helix3/css/template.css" type="text/css" />
</head>
<body class="contentpane">
	<div id="system-message-container">
	</div>

	

<article class="item item-page" itemscope itemtype="http://schema.org/Article">
	<meta itemprop="inLanguage" content="pt-BR" />
	
	

	<div class="entry-header">
		<span class="post-format"><i class="fa fa-thumb-tack"></i></span>
		
					<h2 itemprop="name">
									Integração do JS com o PHP							</h2>
												</div>

						<div id="pop-print" class="btn hidden-print">
				<a href="mais-sobre-javascript-2.html#" onclick="window.print();return false;">			<span class="icon-print" aria-hidden="true"></span>
		Imprimir	</a>			</div>
				
	
	
				
	
			<div itemprop="articleBody">
		<p style="text-align: justify;"><b>Integração entre PHP e JavaScript</b></p>
<p style="text-align: justify;">O PHP pode ter acesso às variáveis do JavaScript e o JavaScript pode ter acesso às variáveis do PHP. Veja alguns exemplos:</p>
<p style="text-align: justify;">PHP Comunicando com JavaScript: PHP recebendo variáveis do JavaScript e JavaScript recebendo variáveis do PHP</p>
<p style="text-align: justify;">&lt;!-- Arquivo php2_js.php --&gt;</p>
<p style="text-align: justify;">&lt;h1 style='font-size:18px;text-align:center;'&gt;Integração entre PHP e JavaScript&lt;/h1&gt;</p>
<p style="text-align: justify;">Lembrando que o PHP é processado no servidor (pelo Apache, por exemplo)</p>
<p style="text-align: justify;">Enquanto que o JavaScript é processado no cliente (pelo Navegador).</p>
<p style="text-align: justify;"><b>&lt;h2&gt;Variáveis em JavaScript&lt;/h2&gt;</b></p>
<pre class="language-javascript"><code>&lt;script&gt;

var variavel_js=250;

alert("A variável_js vale "+variavel_js);

document.write("A variável_js vale "+variavel_js);

document.write("&lt;br&gt;");

document.write("Aqui não saimos do Navegador ainda&lt;br&gt;");

&lt;/script&gt;</code></pre>
<p style="text-align: justify;"><b>&lt;h2&gt;Variáveis em PHP&lt;/h2&gt;</b></p>
<pre class="language-php"><code>&lt;?php

$variavel_php=850;

print "&lt;script&gt;alert('A variavel_php vale '+$variavel_php)&lt;/script&gt;";

print "O alert anterior recebeu a variável do servidor e exibiu&lt;br&gt;";

print "&lt;br&gt;A \$variavel_php vale $variavel_php&lt;br&gt;";

?&gt;</code></pre>
<p style="text-align: justify;"><b>&lt;h2&gt;JavaScript recebendo de PHP&lt;/h2&gt;</b></p>
<pre class="language-javascript"><code>&lt;script&gt;

variavel2_js = '&lt;?=$variavel_php?&gt;' - 150;

alert("variavel2_js recebeu \"$variavel_php - 150\" e agora vale " + variavel2_js);

alert("Para receber o valor da variável do PHP no navegador, a página já deve ter vindo do servidor.");

document.write("variavel2_js recebeu \"$variavel_php - 150\" e agora vale " + variavel2_js);

document.write("&lt;br&gt;");

&lt;/script&gt;</code></pre>
<p style="text-align: justify;"><b>&lt;h2&gt;PHP recebendo de JavaScript&lt;/h2&gt;</b></p>
<pre class="language-php"><code>&lt;?php

$variavel2_php="&lt;script&gt;document.write(variavel2_js)&lt;/script&gt;";

print "Usando PHP: A variavel2_php recebeu variavel2_js e agora vale $variavel2_php&lt;br&gt;&lt;br&gt;";

print "Isso acima está errado, pois apenas é algo que tem valor quando chega ao navegador.&lt;br&gt;&lt;br&gt;";

print "Para que o PHP receba de fato o valor de uma variável em JS, esta variável deve ser recebida por uma variável

em PHP submetida para o servidor, por exemplo o campo de um formulário&lt;br&gt;&lt;br&gt;";

// Não podemos concatenar assim: &lt;script&gt;alert('A variável variavel2_php agora vale' + $variavel2_php)&lt;/script&gt;

// Pois a variável $variavel2_php contém &lt;script&gt;alert(...

print "&lt;script&gt;document.write('Usando JS: A variável variavel2_php agora vale' )&lt;/script&gt; $variavel2_php";

?&gt;

&lt;script&gt;var varSigla="DNOCS";&lt;/script&gt;

&lt;form method="POST" action="php_js2.php"&gt;

&lt;br&gt;&lt;br&gt;

Clique Neste campo e mude o foco:

&lt;input name="sigla" maxlength="13" value="ValorOriginal" onFocus="this.value=varSigla"&gt;

&lt;input type=submit value=Enviar&gt;

&lt;/form&gt;


&lt;?php

print "&lt;font color='red'&gt;&lt;h4&gt;Para Ajuda com a depuração do JavaScript:

usando o Firefox vá em Ferramentas - Console de Erros&lt;/h4&gt;&lt;/font&gt;";

echo "&lt;hr&gt;&lt;h2&gt;Código Fonte&lt;/h2&gt;";

show_source(__FILE__);

?&gt;

&lt;?php

// Arquivo php2_js.php

if ($_POST['sigla']){

echo "A variável sigla, campo do Form que valia 'ValorOriginal', recebeu o valor da variável JS 'DNOCS'&lt;br&gt;";

echo "que foi atribuído à variável \$sigla do PHP através do campo do form!";

}

echo "&lt;hr&gt;&lt;h2&gt;Código Fonte&lt;/h2&gt;";

show_source(__FILE__);

?&gt;</code></pre>
<p style="text-align: justify;">Outro Exemplo de Integração do PHP com JavaScript</p>
<p style="text-align: justify;">&lt;h1&gt;Integração entre PHP e JavaScript&lt;/h1&gt;</p>
<p style="text-align: justify;">&lt;script&gt;</p>
<p style="text-align: justify;">var nome;</p>
<p style="text-align: justify;">nome = prompt('Qual o seu nome?','João Brito Cunha');</p>
<p style="text-align: justify;">&lt;/script&gt;</p>
<p style="text-align: justify;">&lt;h2&gt;PHP Mostrando variável JavaScript&lt;/h2&gt;</p>
<p style="text-align: justify;">&lt;?php</p>
<p style="text-align: justify;">echo "Seu nome é &lt;script&gt;document.write(nome)&lt;/script&gt;";</p>
<p style="text-align: justify;">echo "&lt;script&gt;alert('Seu nome é '+nome)&lt;/script&gt;";</p>
<p style="text-align: justify;">?&gt;</p>
<p style="text-align: justify;"><b>&lt;h2&gt;JavaScript Mostrando variável PHP&lt;/h2&gt;</b></p>
<pre class="language-php"><code>&lt;?php

$arquivo="phpjs.php";

$acao='excluir';

$tipo='diretorio';

echo "&lt;br&gt;&lt;br&gt;Arquivo = $arquivo Ação = $acao e Tipo = $tipo";

?&gt;

&lt;script&gt;

if(!confirm("Confirma?")){

alert("Não confirmou!");

}else{

alert("Arquivo = &lt;?=$arquivo?&gt; Acao = &lt;?=$acao?&gt; Tipo = &lt;?=$tipo?&gt;");

}

&lt;/script&gt;</code></pre>
<p style="text-align: justify;"><b>&lt;h2&gt;HTML e JavaScript Mostrando variável PHP&lt;/h2&gt;</b></p>
<p style="text-align: justify;">&lt;?php $sigla="DNOCS"; ?&gt;</p>
<p style="text-align: justify;">&lt;form&gt;</p>
<p style="text-align: justify;">Clique Neste campo e mude o foco&lt;br&gt;</p>
<p style="text-align: justify;">&lt;input name="sigla" maxlength="10" value="&lt;?=$sigla?&gt;"</p>
<p style="text-align: justify;">onBlur="javascript:location.href='&lt;?=$PHP_SELF?&gt;?sigla=document.forms[0].sigla.value'"&gt;</p>
<p style="text-align: justify;">&lt;/form&gt;</p>
<p style="text-align: justify;">Passing JavaScript variables to PHP</p>
<p style="text-align: justify;">Original em:</p>
<p style="text-align: justify;"><a href="http://www.webcheatsheet.com/php/passing_javascript_variables_php.php">http://www.webcheatsheet.com/php/passing_javascript_variables_php.php</a></p>
<p style="text-align: justify;">Criar arquivo js.html com o conteúdo:</p>
<pre class="language-php"><code>&lt;script type="text/javascript"&gt;

width = screen.width;

height = screen.height;

if (width &gt; 0 &amp;&amp; height &gt;0) {

window.location.href = "http://localhost/main.php?width=" + width + "&amp;height=" + height;

} else

exit();

&lt;/script&gt;

Criar o arquivo main.php com o seguinte conteúdo:

&lt;?php

echo "&lt;h1&gt;Screen Resolution:&lt;/h1&gt;";

echo "Width : ".$_GET['width']."&lt;br&gt;";

echo "Height : ".$_GET['height']."&lt;br&gt;";

?&gt;</code></pre> 	</div>

	
	
				
	
	
	
</article>

</body>
</html>
